{"version":3,"sources":["images/truecaller.svg","components/header.jsx","images/circle.svg","services/utils.js","components/card.jsx","services/apipoints.js","images/loader.svg","components/mainSection.jsx","components/post.jsx","App.js","index.js"],"names":["Header","src","Logo","width","style","margin","className","timeSince","time","Date","constructor","getTime","time_formats","seconds","token","list_choice","Math","abs","format","i","floor","Card","data","date","title","slug","categories","URL","post_thumbnail","agotext","history","useHistory","onClick","push","result","Object","keys","map","item","Circle","alt","category","height","objectFit","maxHeight","getListView","a","number","page","apiRoute","fetch","res","json","response","console","log","getCategories","getPost","MainSection","useState","setpage","posts","setPosts","setCategories","setcategory","totalitems","setTotalitems","loading","setLoading","getList","found","window","scrollTo","top","behavior","getPostbyCategory","useEffect","marginTop","onChange","e","target","value","name","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","pageNumber","Loader","Post","match","params","postdata","setpostdata","authordata","setauthordata","getPostService","post","author","featured_image","fontSize","fontWeight","avatar_URL","color","dangerouslySetInnerHTML","__html","content","App","exact","path","component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.e2ccba8e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/truecaller.26163d27.svg\";","import \"../styles.css\";\nimport Logo from \"../images/truecaller.svg\";\n\nexport default function Header() {\n  return (\n    <div>\n      <div>\n        <img src={Logo} width=\"140px\" style={{ margin: \"10px\" }} />\n      </div>\n      <div className=\"backgroundImage\">\n        {/* <img src={Man} className=\"backgroundImagecss\" /> */}\n        <div className=\"headertext\">The Truecaller Blog</div>\n      </div>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/circle.9fba390a.svg\";","export function timeSince(time) {\n  switch (typeof time) {\n    case \"number\":\n      break;\n    case \"string\":\n      time = +new Date(time);\n      break;\n    case \"object\":\n      if (time.constructor === Date) time = time.getTime();\n      break;\n    default:\n      time = +new Date();\n  }\n  var time_formats = [\n    [60, \"seconds\", 1], // 60\n    [120, \"1 minute ago\", \"1 minute from now\"], // 60*2\n    [3600, \"minutes\", 60], // 60*60, 60\n    [7200, \"1 hour ago\", \"1 hour from now\"], // 60*60*2\n    [86400, \"hours\", 3600], // 60*60*24, 60*60\n    [172800, \"Yesterday\", \"Tomorrow\"], // 60*60*24*2\n    [604800, \"days\", 86400], // 60*60*24*7, 60*60*24\n    [1209600, \"Last week\", \"Next week\"], // 60*60*24*7*4*2\n    [2419200, \"weeks\", 604800], // 60*60*24*7*4, 60*60*24*7\n    [4838400, \"Last month\", \"Next month\"], // 60*60*24*7*4*2\n    [29030400, \"months\", 2419200], // 60*60*24*7*4*12, 60*60*24*7*4\n    [58060800, \"Last year\", \"Next year\"], // 60*60*24*7*4*12*2\n    [2903040000, \"years\", 29030400], // 60*60*24*7*4*12*100, 60*60*24*7*4*12\n    [5806080000, \"Last century\", \"Next century\"], // 60*60*24*7*4*12*100*2\n    [58060800000, \"centuries\", 2903040000] // 60*60*24*7*4*12*100*20, 60*60*24*7*4*12*100\n  ];\n  var seconds = (+new Date() - time) / 1000,\n    token = \"ago\",\n    list_choice = 1;\n\n  if (seconds == 0) {\n    return \"Just now\";\n  }\n  if (seconds < 0) {\n    seconds = Math.abs(seconds);\n    token = \"from now\";\n    list_choice = 2;\n  }\n  var i = 0,\n    format;\n  while ((format = time_formats[i++]))\n    if (seconds < format[0]) {\n      if (typeof format[2] == \"string\") return format[list_choice];\n      else\n        return Math.floor(seconds / format[2]) + \" \" + format[1] + \" \" + token;\n    }\n  return time;\n}\n","import \"../styles.css\";\nimport Circle from \"../images/circle.svg\";\nimport { timeSince } from \"../services/utils\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Card({ data }) {\n  const { date, title, slug, categories } = data;\n  const category = () => {\n    let result = [];\n    Object.keys(categories).map((item) => {\n      result.push(\n        <div className=\"category\">\n          <img src={Circle} width=\"8px\" alt=\"circle\" />\n          <span className=\"categorytext\">{item}</span>\n        </div>\n      );\n    });\n\n    return result;\n  };\n  const { post_thumbnail } = data;\n  const { URL } = post_thumbnail || {};\n  const agotext = timeSince(date);\n  const history = useHistory();\n\n  const moveToPost = () => {\n    history.push(`/post/${slug}`);\n  };\n\n  return (\n    <div className=\"cardWrapper\" onClick={moveToPost} key={slug}>\n      <div className=\"categorySection\">{category()}</div>\n\n      <div className=\"postimage\">\n        <img\n          src={URL}\n          width=\"100%\"\n          height=\"100%\"\n          alt=\"postimage\"\n          style={{ objectFit: \"cover\", maxHeight: \"300px\" }}\n        />\n      </div>\n\n      <div className=\"postTitle\">\n        <span className=\"postTitletext\">{title}</span>\n        <span className=\"postTitleduration\">{agotext}</span>\n      </div>\n    </div>\n  );\n}\n","export const getListView = async ({ number, page, category }) => {\n  const apiRoute = `https://public-api.wordpress.com/rest/v1.1/sites/107403796/posts/?fields=slu\n  g,categories,post_thumbnail,title,slug,date&number=${number}&page=${page}&category=${\n    category || \"\"\n  }`;\n  try {\n    const res = await fetch(apiRoute);\n    const response = await res.json();\n\n    return response;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getCategories = async () => {\n  const apiRoute = `https://public-api.wordpress.com/rest/v1.1/sites/107403796/categories`;\n  try {\n    const res = await fetch(apiRoute);\n    const response = await res.json();\n\n    return response;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getPost = async ({ slug }) => {\n  const apiRoute = `https://public-api.wordpress.com/rest/v1.1/sites/107403796/posts/slug:${slug}?fields=featured_image,title,author,content,date`;\n  try {\n    const res = await fetch(apiRoute);\n    const response = await res.json();\n\n    return response;\n  } catch (e) {\n    console.log(e);\n  }\n};\n","export default __webpack_public_path__ + \"static/media/loader.f6b7ad29.svg\";","import \"../styles.css\";\nimport Card from \"./card\";\nimport { useEffect, useState } from \"react\";\nimport { getListView, getCategories } from \"../services/apipoints.js\";\nimport Pagination from \"react-js-pagination\";\nimport Loader from \"../images/loader.svg\";\n\nexport default function MainSection() {\n  const [number] = useState(20);\n  const [page, setpage] = useState(0);\n  const [posts, setPosts] = useState([]);\n  const [categories, setCategories] = useState();\n  const [category, setcategory] = useState(\"\");\n  const [totalitems, setTotalitems] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const getList = async () => {\n    setLoading(true);\n    const response = await getListView({ number, page });\n    if (totalitems === \"\") {\n      setTotalitems(response.found);\n    }\n    const { categories } = await getCategories();\n    setCategories(categories);\n    console.log(response);\n    setPosts(response.posts);\n    console.log(posts);\n    setLoading(false);\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  const changeCategory = (e) => {\n    setcategory(e.target.value);\n  };\n\n  const getPostbyCategory = async () => {\n    setLoading(true);\n    const { posts } = await getListView({ number, page, category });\n    setLoading(false);\n    console.log(posts);\n    setPosts(posts);\n  };\n\n  useEffect(() => {\n    getList();\n  }, [page]);\n\n  useEffect(() => {\n    if (category) {\n      getPostbyCategory();\n    }\n  }, [category]);\n\n  function handlePageChange(pageNumber) {\n    console.log(`active page is ${pageNumber}`);\n    setpage(pageNumber);\n  }\n\n  return (\n    <>\n      {!loading && (\n        <div className=\"mainSection\">\n          <div className=\"mainSectionHeaders\">\n            <div>\n              <span className=\"mainSectionHeader\">Latest Articles</span>\n            </div>\n            <div>\n              <select\n                key=\"select\"\n                style={{ marginTop: \"30px\" }}\n                onChange={changeCategory}\n              >\n                {categories?.map((item) => {\n                  return <option value={item.slug}>{item.name}</option>;\n                })}\n              </select>\n            </div>\n          </div>\n          <div className=\"cardssection\">\n            {posts.map((item) => {\n              return <Card data={item} />;\n            })}\n          </div>\n          <Pagination\n            activePage={page}\n            itemsCountPerPage={20}\n            totalItemsCount={totalitems}\n            pageRangeDisplayed={5}\n            onChange={handlePageChange}\n          />\n        </div>\n      )}\n      {loading && (\n        <div className=\"loader\">\n          <img src={Loader} width=\"200px\" alt=\"loader\" />\n        </div>\n      )}\n    </>\n  );\n}\n","import \"../styles.css\";\nimport Logo from \"../images/truecaller.svg\";\nimport { useEffect, useState } from \"react\";\nimport { getPost } from \"../services/apipoints\";\nimport { timeSince } from \"../services/utils\";\nimport Loader from \"../images/loader.svg\";\n\nexport default function Post({ match }) {\n  const {\n    params: { slug }\n  } = match;\n\n  console.log(slug);\n  const [postdata, setpostdata] = useState({});\n  const [authordata, setauthordata] = useState({});\n  const [loading, setLoading] = useState(false);\n  const getPostService = async () => {\n    setLoading(true);\n    const post = await getPost({ slug });\n    setauthordata(post.author);\n    setpostdata(post);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getPostService();\n  }, []);\n  return (\n    <>\n      {!loading && (\n        <div className=\"postsection\">\n          <div>\n            <div>\n              <img src={Logo} width=\"140px\" style={{ margin: \"10px\" }} />\n            </div>\n            <div className=\"postImage\">\n              <img src={postdata?.featured_image} className=\"postImageCss\" />\n            </div>\n          </div>\n          <div className=\"postsectionWrapper\">\n            <div className=\"postsectiondetails\">\n              <div className=\"posttitle\">\n                <span style={{ fontSize: \"34px\", fontWeight: \"bold\" }}>\n                  {postdata.title}\n                </span>\n              </div>\n              <div className=\"authorsection\">\n                <div className=\"authorsectionimage\">\n                  <img\n                    src={authordata.avatar_URL}\n                    style={{ \"border-radius\": \"50px\" }}\n                    alt=\"avatar\"\n                  />\n                </div>\n                <div className=\"authorsectioninfo\">\n                  <span>{authordata.name}</span>\n                  <span style={{ fontSize: \"12px\", color: \"grey\" }}>\n                    {timeSince(postdata?.date)}\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div dangerouslySetInnerHTML={{ __html: postdata?.content }}></div>\n          </div>\n        </div>\n      )}\n      {loading && (\n        <div className=\"loader\">\n          <img src={Loader} width=\"200px\" alt=\"loader\" />\n        </div>\n      )}\n    </>\n  );\n}\n","import Header from \"./components/header\";\nimport MainSection from \"./components/mainSection\";\nimport Post from \"./components/post\";\nimport \"./styles.css\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nexport default function App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <div>\n            <Header />\n            <MainSection />\n          </div>\n        </Route>\n        <Route path=\"/post/:slug\" component={Post} />\n      </Switch>\n    </Router>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}